{% extends "base.jinja2" %}

{% macro dfs(node) -%}

<li>
{% if node.children %}
<b>{{ node.name }}</b>
{% else %}
<i>{{ node.name }}</i>
{% endif %}
</li>

{% if node.children %}
    <ul>
    {% for x in node.children %}
        {{ dfs(x) }}
    {% endfor %}
    </ul>
{% endif %}
{%- endmacro %}

{% block main %}
{% if torrent %}
    <div style="margin: 2em">
    {% if torrent.get_message %}
    <p> Message: {{ torrent.get_message }} </p>
    {% endif %}
    <p> Active:
    {% if torrent.is_active %}
    True
    {% else %}
    False
    {% endif %}
    </p>
        <p> {{ torrent.get_name }}
        ({{ wn(torrent.get_download_total) }} /
        {{ wn(torrent.get_size_bytes) }}) </p>
    <p> Loaded file: {{ torrent.get_loaded_file }} </p>
    <p>
    <ul>
        {{ dfs(tree) }}
    </ul>
    </p>
    </div>
{% endif %}
{% endblock %}
